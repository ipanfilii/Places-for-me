<!--
  Generated template for the Reviews page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->





<ion-header>
    <ion-navbar style="height:40px !important;" color="primary">
        <ion-buttons right>
            <button ion-button (click)="changeTypeOfPlace()">Choose place</button>
        </ion-buttons>
        <ion-buttons right>
            <button ion-button (click)="getlocation.startTracking()" (click)="setMap()">Show reviews</button>
        </ion-buttons>
        <!--<ion-buttons right>
            <button [disabled]="saveDisabled" ion-button (click)="save()">Save</button>
        </ion-buttons>-->
    </ion-navbar>

    <!--<ion-toolbar>
        <ion-searchbar [(ngModel)]="query" (ionInput)="searchPlace()"></ion-searchbar>
    </ion-toolbar>-->
    <!--<ion-card style= "">
    <ion-card-content>
        
    </ion-card-content>
</ion-card>-->

    <ion-list>
        <ion-item *ngFor="let place of places" (touchstart)="selectPlace(place)">{{place.description}}</ion-item>
    </ion-list>

</ion-header>

<ion-content>
    <div *ngIf="showReviews">
        <img style="margin-top:30%;" align-center src="http://www.broddickchiropractic.com/wp-content/uploads/2014/02/Broddick-Chiro-Google-Review.jpg">
    </div>
    <div #pleaseConnect id="please-connect">
        <p>Please connect to the Internet...</p>
    </div>

    <div style="height: 100% -150px; " #map id="map">
        <ion-spinner></ion-spinner>
    </div>
    <ion-list *ngFor="let place of listPlaces">
        <ion-card *ngIf="place.date.name != 'Timisoara'">

            <ion-card-header>
                {{place.date.name}}
            </ion-card-header>

            <ion-card-content>
                <ion-slides class="image-slider" slidesPerView="3" *ngIf="place.date.photos">
                    <ion-slide *ngFor="let photo of place.date.photos">
                        <img style="height:150px; width:300px;" src="{{photo.getUrl({  maxWidth : 320, maxHeight:320})}}" class="thumb-img" imageViewer />
                    </ion-slide>
                </ion-slides>
                <!--<ion-grid>
                            <ion-row>
                                <div *ngFor="let photo of place.date.photos">
                                    <ion-col col-4>
                                        <img src="{{photo.getUrl({  maxWidth : 100})}}">
                                    </ion-col>
                                </div>
                            </ion-row>
                        </ion-grid>-->
                <b>Keyword </b>
                <ion-grid>
                    <ion-row>
                        <div *ngFor="let review of place.cuvinte">
                            <ion-col col-2>
                                {{review}}
                            </ion-col>
                        </div>
                    </ion-row>
                </ion-grid>
                <ion-list *ngFor="let review of place.date.reviews">
                    <ion-item *ngIf="review.text">
                        <p><b>Autor:</b> {{review.author_name}}</p>
                        <p text-wrap style="white-space: normal;"><b>Review:</b> {{review.text}}</p>
                    </ion-item>
                </ion-list>
                <!-- Add card content here! -->
            </ion-card-content>

        </ion-card>

    </ion-list>
</ion-content>